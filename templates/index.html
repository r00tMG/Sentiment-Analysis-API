<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Home page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
    <div class="card m-5">
      <div class="card-header text-center fs-1">
        Sentiment Analysis Api
      </div>
      <div class="card-body">
        <div class="d-flex justify-content-center align-items-center vh-100">
    <div class="container w-50">
        <form action="/predict" method="post">
            <div class="d-flex align-items-center">
                <input class="form-control me-2" name="texte" type="text" placeholder="Veuillez saisir un texte...">
                <button type="submit" class="btn btn-primary">Pr√©dir</button>
            </div>
            {% if errors %}
                <p class="text-danger">
                    {{errors[0].get('texte')}}
                </p>
                {% endif %}
        </form>
        <div class="row my-2">
            {% if response %}
            {% if response[0]["label"] == 'NEGATIVE' %}
            <div class="border border-danger rounded-3 p-5  text-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" fill="currentColor" class="bi bi-emoji-frown-fill text-danger" viewBox="0 0 16 16">
      <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16M7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5m-2.715 5.933a.5.5 0 0 1-.183-.683A4.5 4.5 0 0 1 8 9.5a4.5 4.5 0 0 1 3.898 2.25.5.5 0 0 1-.866.5A3.5 3.5 0 0 0 8 10.5a3.5 3.5 0 0 0-3.032 1.75.5.5 0 0 1-.683.183M10 8c-.552 0-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5S10.552 8 10 8"/>
    </svg>
                <p class="mt-2">
                   {{response[0]["label"]}}
                </p>
                <p class="">
                   {{(response[0]["score"] * 100) | round(2)}}%
                </p>
            </div>
            {% else %}
            <div class="border border-warning rounded-3 p-5  text-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" fill="currentColor" class="bi bi-emoji-grin-fill text-warning" viewBox="0 0 16 16">
                  <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16M6.488 7c-.23-.598-.661-1-1.155-1-.493 0-.924.402-1.155 1A2.8 2.8 0 0 1 4 6c0-1.105.597-2 1.333-2 .737 0 1.334.895 1.334 2 0 .364-.065.706-.179 1m5.334 0c-.23-.598-.662-1-1.155-1-.494 0-.925.402-1.155 1a2.8 2.8 0 0 1-.179-1c0-1.105.597-2 1.334-2C11.403 4 12 4.895 12 6c0 .364-.065.706-.178 1M2.696 8.756a.48.48 0 0 1 .382-.118C4.348 8.786 6.448 9 8 9c1.553 0 3.653-.214 4.922-.362a.48.48 0 0 1 .383.118.3.3 0 0 1 .096.29c-.09.47-.242.921-.445 1.342-.263.035-.576.075-.929.115A37 37 0 0 1 8 10.75c-1.475 0-2.934-.123-4.027-.247-.353-.04-.666-.08-.93-.115A5.5 5.5 0 0 1 2.6 9.045a.3.3 0 0 1 .097-.29ZM8 13.5a5.49 5.49 0 0 1-4.256-2.017l.116.014c1.115.126 2.615.253 4.14.253s3.025-.127 4.14-.253l.117-.014A5.49 5.49 0 0 1 8 13.5"/>
                </svg>
                <p class="mt-2">
                   {{response[0]["label"]}}
                </p>
                <p class="">
                   {{(response[0]["score"] * 100) | round(2)}}%
                </p>
            </div>
            {% endif %}
            {% endif %}
        </div>
    </div>
        </div>
      </div>
    </div>

</body>
</html>